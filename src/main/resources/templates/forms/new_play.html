<!DOCTYPE html>
<html>
<body>
<div data-th-fragment="new-play-modal">

    <div class="modal" id="new_play" ng-app="app">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Registrar una nueva jugada</h2>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-8 col-xs-offset-2">
                            <!-- FORM -->
                            <form name="newPlayerForm" ng-submit="savePlay()">

                                <div class="form-group">
                                    <label>Equipo</label>
                                    <select class="form-control" ng-model="vm.teamSelected">
                                        <option value="{{vm.lastGame.teamA.name}}">{{vm.lastGame.teamA.name}}</option>
                                        <option value="{{vm.lastGame.teamB.name}}">{{vm.lastGame.teamB.name}}</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Jugador</label>
                                    <select class="form-control" ng-model="vm.newPlay.player_a">
                                        <option></option>
                                        <option ng-if="vm.teamSelected == vm.lastGame.teamA.name"
                                                ng-repeat="localPlayer in vm.localPlayers" value="{{localPlayer}}">
                                            {{localPlayer.name + ' ' + localPlayer.lastName}}
                                        </option>

                                        <option ng-if="vm.teamSelected == vm.lastGame.teamB.name"
                                                ng-repeat="awayPlayer in vm.awayPlayers" value="{{awayPlayer}}">
                                            {{awayPlayer.name + ' ' + awayPlayer.lastName}}
                                        </option>
                                    </select>
                                    <p class="help-block">Jugador que realiza la jugada</p>
                                </div>

                                <div class="form-group">
                                    <label>Tipo de jugada</label>
                                    <select class="form-control" ng-model="vm.newPlay.type">
                                        <option ng-repeat="playType in vm.playTypes" value="{{playType}}">
                                            {{playType.type}}
                                        </option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>Comentario</label>
                                    <input type="text" name="position" class="form-control"
                                           placeholder="Escribe un comentario!"
                                           ng-model="vm.newPlay.commentary"/>
                                    <!--<span ng-show="errorUserName">{{errorUserName}}</span>-->
                                </div>

                                <!--TODO - validar si se quedara -->
                                <!--<div class="form-group">-->
                                <!--<label>Jugador auxiliar</label>-->
                                <!--<select class="form-control" ng-model="vm.newPlay.player_b">-->
                                <!--<option ></option>-->
                                <!--<option ng-if="vm.teamSelected == vm.lastGame.teamA.name"-->
                                <!--ng-repeat="localPlayer in vm.localPlayers" value="{{localPlayer}}">-->
                                <!--{{localPlayer.name + ' ' + localPlayer.lastName}}-->
                                <!--</option>-->

                                <!--<option ng-if="vm.teamSelected == vm.lastGame.teamB.name"-->
                                <!--ng-repeat="awayPlayer in vm.awayPlayers" value="{{awayPlayer}}">-->
                                <!--{{awayPlayer.name + ' ' + awayPlayer.lastName}}-->
                                <!--</option>-->
                                <!--</select>-->
                                <!--<p class="help-block">Otro jugador que aparece en la jugada (no requerido) </p>-->
                                <!--</div>-->

                                <br/>

                                <div class="col-xs-8 col-xs-offset-2">
                                    <button type="submit" class="btn btn-default btn-success" onclick="$('.modal').modal('hide')"
                                            aria-label="Left Align">
                                        Guardar
                                    </button>
                                    <button type="button" class="btn btn-default btn-danger" data-dismiss="modal"
                                            aria-label="Left Align">Cancelar
                                    </button>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>